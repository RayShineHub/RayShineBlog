(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{514:function(t,i,n){},519:function(t,i,n){"use strict";n(514)},565:function(t,i,n){"use strict";n.r(i);n(161),n(17),n(39),n(87),n(38),n(262);var s=n(19),a=n.n(s),e={data:function(){return{isPC:!0,autoPlay:!0,volumeStep:.2,defaultVolume:.4,isPlaying:!1,musicList:[],musicUrl:"",currentMusic:{currentTime:0,maxTime:0,duration:0,volume:.2,name:"",artist:"",url:"",cover:"",lrc:""}}},props:{linksWrapOffsetWidth:{type:Number,default:""}},mounted:function(){/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?this.isPC=!1:(this.isPC=!0,this.getMusic())},methods:{getMusic:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1868943615",i=this;a()({url:"https://autumnfish.cn/check/music?id="+t+"&br=320000",withCredentials:!0}).then((function(n){200===n.status&&n.data.success&&(a()({url:"https://autumnfish.cn/song/detail?ids="+t,withCredentials:!0}).then((function(t){200===t.status&&(i.currentMusic.name=t.data.songs[0].al.name,i.currentMusic.cover=t.data.songs[0].al.picUrl,i.currentMusic.artist=t.data.songs[0].ar[0].name)}),(function(t){console.log(t)})),a()({url:"https://autumnfish.cn/song/url?id="+t+"&br=320000",withCredentials:!0}).then((function(t){200===t.status&&(i.currentMusic.url=t.data.data[0].url,i.$refs.audio.volume=i.defaultVolume,i.autoPlay&&setTimeout((function(){i.$refs.audio.play()}),1e3))}),(function(t){console.log(t)})))}),(function(t){console.log(t)}))},onPlay:function(){return this.isPlaying?this.$refs.audio.pause():this.$refs.audio.play()},play:function(){this.isPlaying=!0},pause:function(){this.isPlaying=!1},next:function(t){console.log("next"),this.$refs.audio.pause(),this.getMusic("1430583016")},prev:function(t){console.log("prev"),this.$refs.audio.pause(),this.getMusic("1955424233")},transTime:function(t){var i=parseInt(t),n=parseInt(i/60),s=i%60+"";return 0===n?n="00":n<10&&(n="0"+n),1===s.length&&(s="0"+s),n+":"+s},onTimeupdate:function(t){this.currentMusic.currentTime=this.transTime(this.currentMusic.duration-t.target.currentTime),this.currentMusic.duration==t.target.currentTime&&0!=t.target.currentTime&&this.next()},onLoadedmetadata:function(t){this.currentMusic.duration=t.target.duration,this.currentMusic.maxTime=this.transTime(t.target.duration)},onVolume:function(t){var i=this.$refs.audio.volume,n=this.volumeStep;"jian"===t?i-n<=0?this.$refs.audio.volume=0:this.$refs.audio.volume-=n:i+n>=1?this.$refs.audio.volume=1:this.$refs.audio.volume+=n,this.currentMusic.volume=this.$refs.audio.volume}}},u=(n(519),n(7)),r=Object(u.a)(e,(function(){var t=this,i=t.$createElement,n=t._self._c||i;return t.isPC?n("div",{staticClass:"nav-music",style:t.linksWrapOffsetWidth?{right:t.linksWrapOffsetWidth+"px"}:{}},[n("div",{staticClass:"img-box"},[n("img",{staticClass:"avatar",class:{playing:t.isPlaying},attrs:{src:t.currentMusic?t.currentMusic.cover:""}})]),t._v(" "),n("div",{staticClass:"actions"},[n("div",{staticClass:"title"},[n("span",{staticStyle:{"margin-right":"0.1rem"}},[t._v("\n        "+t._s(t.currentMusic.currentTime)+"\n      ")]),t._v(" "),n("span",[t._v("\n        "+t._s(t.currentMusic.name)+" - "+t._s(t.currentMusic.artist)+"  \n      ")])]),t._v(" "),n("div",{staticClass:"action-bar"},[n("i",{staticClass:"iconfont rays-bofang04-mianxing",on:{click:t.prev}}),t._v(" "),t.isPlaying?t._e():n("i",{staticClass:"iconfont rays-bofang",on:{click:t.onPlay}}),t._v(" "),t.isPlaying?n("i",{staticClass:"iconfont rays-zanting",on:{click:t.onPlay}}):t._e(),t._v(" "),n("i",{staticClass:"iconfont rays-bofang05-mianxing",on:{click:t.next}}),t._v(" "),t.currentMusic.volume<=0?n("i",{staticClass:"iconfont rays-shengyin-jinyin",staticStyle:{"margin-left":"1rem"}}):t._e(),t._v(" "),t.currentMusic.volume>0?n("i",{staticClass:"iconfont rays-shengyin-jian",staticStyle:{"margin-left":"1rem"},on:{click:function(i){return t.onVolume("jian")}}}):t._e(),t._v(" "),n("i",{staticClass:"iconfont rays-shengyin-jia",on:{click:function(i){return t.onVolume("jia")}}})])]),t._v(" "),n("audio",{ref:"audio",attrs:{autoplay:!1,src:t.currentMusic.url,volume:t.currentMusic.volume},on:{play:t.play,pause:t.pause,loadedmetadata:t.onLoadedmetadata,timeupdate:t.onTimeupdate}})]):t._e()}),[],!1,null,null,null);i.default=r.exports}}]);